{"version":3,"file":"scene04.js","sourceRoot":"","sources":["scene04.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference path=\"typings/index.d.ts\" />\n\nclass TetShadowTest02{\n\n    public scene: THREE.Scene;\n    public camera: THREE.Camera;\n    private timer:number = 0;\n    private renderer:THREE.WebGLRenderer;\n    private objs:THREE.Mesh[] = [];\n    private  group:THREE.Group;\n    private rotations:THREE.Vector3[] = [];\n    private planeGeo:THREE.PlaneGeometry;\n    private noise:Object;\n    private time:number;\n    private pointLight:THREE.PointLight;\n    private pointLight2:THREE.PointLight;\n    private torusKnot:THREE.Mesh;\n\n    private objs:THREE.Mesh[] = [];\n    private  group:THREE.Group;\n    private rotations:THREE.Vector3[] = [];\n    private planeGeo:THREE.PlaneGeometry;\n    private noise:Object;\n    private timer:number;\n    private tetValues:Object[] = [];\n\n    constructor(renderer:THREE.WebGLRenderer) {\n\n        // renderer.setClearColor(0xffffff);\n        this.renderer = renderer;\n        this.createScene();\n    }\n\n    createLight( color:any ) {\n        var pointLight = new THREE.PointLight( color, 1, 30 );\n        pointLight.castShadow = true;\n        pointLight.shadow.camera.near = 1;\n        pointLight.shadow.camera.far = 200;\n        // pointLight.shadowCameraVisible = true;\n        pointLight.shadow.bias = 0.1;\n        var geometry = new THREE.SphereGeometry( 0.3, 12, 6 );\n        var material = new THREE.MeshBasicMaterial( { color: color } );\n        var sphere = new THREE.Mesh( geometry, material );\n        pointLight.add( sphere );\n        return pointLight\n    }\n\n\n    // シーンを作る。ここでオブジェクトを格納していく。\n    private createScene(){\n        this.time = 0.0;\n        this.noise = new SimplexNoise();\n\n        // シーンを作る\n        this.scene = new THREE.Scene();\n        this.scene.fog = new THREE.FogExp2( 0xeaeaea, 0.003 );\n        this.renderer.setClearColor(this.scene.fog.color);\n\n        // カメラを作成\n        this.camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 10000 );\n\n\n\n\n\n        let spotLight = new THREE.SpotLight( 0xffffff,0.4 );\n        spotLight.name = 'Spot Light';\n        spotLight.angle = Math.PI / 5;\n        spotLight.penumbra = 0.3;\n        spotLight.position.set( 0, 200, 0 );\n        spotLight.castShadow = true;\n        spotLight.shadow.camera.near = 8;\n        spotLight.shadow.camera.far = 100;\n        spotLight.shadow.mapSize.width = 1024;\n        spotLight.shadow.mapSize.height = 1024;\n        this.scene.add( spotLight );\n\n\n        let dirLight = new THREE.DirectionalLight( 0xffffff, 0.8 );\n        dirLight.name = 'Dir. Light';\n        dirLight.position.set( 0, 10, 0 );\n        dirLight.castShadow = true;\n        dirLight.shadow.camera.near = 1;\n        dirLight.shadow.camera.far = 10;\n        dirLight.shadow.camera.right = 15;\n        dirLight.shadow.camera.left = - 15;\n        dirLight.shadow.camera.top\t= 15;\n        dirLight.shadow.camera.bottom = - 15;\n        dirLight.shadow.mapSize.width = 1024;\n        dirLight.shadow.mapSize.height = 1024;\n        this.scene.add( dirLight );\n\n\n\n\n\n        var geometry = new THREE.TorusKnotGeometry( 14, 1, 150, 20 );\n        var material = new THREE.MeshPhongMaterial( {\n            color: 0xeaeaea,\n            shininess: 10,\n            specular: 0xeaeaea\n        } );\n        this.torusKnot = new THREE.Mesh( geometry, material );\n        this.torusKnot.position.set( 0, 5, 0 );\n        this.torusKnot.castShadow = true;\n        this.torusKnot.receiveShadow = true;\n        // this.scene.add( this.torusKnot );\n\n        this.planeGeo = new THREE.PlaneGeometry(1500,1500,300,300);\n        var material = new THREE.MeshPhongMaterial( {\n            color: 0xff5b32,\n            shininess: 5,\n            specular: 0xf8ffc0,\n            shading: THREE.SmoothShading\n        } );\n        var mesh = new THREE.Mesh( this.planeGeo, material );\n        mesh.rotateX(-Math.PI/2);\n        mesh.position.y = -10;\n        mesh.receiveShadow = true;\n        this.scene.add( mesh );\n\n\n\n        this.group = new THREE.Group();\n        let radian = 0.0;\n        let _radius = 30;\n        let radius = 1;\n        for(var i = 0; i < 70; i++) {\n\n            let tetGeometry = new THREE.CylinderGeometry( 0, 4+1*Math.random()-0.5, 4+1*Math.random()-0.5, 4, 1 );\n            let tetMaterial = new THREE.MeshLambertMaterial({\n                color:0xffffff,\n                shading:THREE.FlatShading\n            });\n\n\n            let tetMesh = new THREE.Mesh(tetGeometry, tetMaterial);\n\n            radian += 0.1+Math.random()*0.1;\n            let x = Math.cos(radian)*radius;\n            let z = Math.sin(radian)*radius;\n            let y = Math.random()*100.0;\n            tetMesh.position.set(x,y,z);\n\n            var r = new THREE.Vector3(Math.random()*Math.PI*2,Math.random()*Math.PI*2,Math.random()*Math.PI*2);\n            this.rotations.push(r);\n            tetMesh.rotation.set(r.x,r.y,r.z);\n            tetMesh.castShadow = true;\n            // tetMesh.receiveShadow = true;\n\n            this.objs.push(tetMesh);\n            this.group.add(tetMesh);\n\n            tetMesh.scale.set(0.6,0.6,0.6);\n            this.tetValues.push({\n                radian:radian,\n                radius:radius,\n                pos:tetMesh.position,\n                scale:tetMesh.scale\n            })\n        }\n\n\n        this.scene.add(this.group);\n\n        this.camera.position.z = 100;\n        this.camera.position.y = 80;\n        // this.camera.lookAt (new THREE.Vector3(0,20,0));\n\n        let controls = new THREE.OrbitControls( this.camera, this.renderer.domElement );\n    }\n\n\n    // ワンフレームごとの処理\n    public update() {\n\n\n        let rad = 100;\n        this.timer += 0.01;\n        var time = performance.now() * 0.001;\n\n\n\n        for(var i = 0; i < this.rotations.length; i++)\n        {\n            this.rotations[i].x += 0.003;\n            this.rotations[i].y += 0.003;\n            this.rotations[i].z += 0.003;\n\n            this.objs[i].rotation.set(this.rotations[i].x,this.rotations[i].y,this.rotations[i].z);\n\n            this.tetValues[i].radian += 0.006;\n            let radisu  = this.tetValues[i].radius;\n\n            let x = 0;\n\n            if(this.objs[i].position.y > 100+Math.random()*10)\n            {\n                this.objs[i].position.y = 0.0;\n                this.tetValues[i].scale.x =0.1;\n                this.tetValues[i].scale.y =0.1;\n                this.tetValues[i].scale.z =0.1;\n            }\n\n\n            this.objs[i].position.y += (110 - this.objs[i].position.y) * 0.01;// (100 - this.objs[i].position.y) * 0.04;\n            this.objs[i].position.z = Math.cos(this.rotations[i].z+this.timer*2)*4;\n            this.objs[i].position.x = Math.sin(this.rotations[i].x+this.timer*3)*4;\n\n            let scale = 0.06;\n\n            this.objs[i].position.z += this.noise.noise3D(this.objs[i].position.z*scale,this.objs[i].position.y*scale,this.timer)*3;\n            this.objs[i].position.x += this.noise.noise3D(this.objs[i].position.x*scale,this.objs[i].position.z*scale,this.timer)*3;\n\n            this.tetValues[i].scale.x+=0.006;\n            this.tetValues[i].scale.y+=0.006;\n            this.tetValues[i].scale.z+=0.006;\n\n\n            this.objs[i].scale.set(this.tetValues[i].scale.x,this.tetValues[i].scale.y,this.tetValues[i].scale.z);\n\n\n            var noise = this.noise.noise3D(this.objs[i].position.x*0.04,this.objs[i].position.y*0.04,this.time*0.04+this.objs[i].position.z*0.04);\n\n\n\n        }\n\n\n        this.time += 0.003;\n\n        for(var i = 0; i < this.planeGeo.vertices.length;i++)\n        {\n            let vert = this.planeGeo.vertices[i];\n            var value = this.noise.noise3D(vert.x*0.5,vert.y*0.5,this.time);\n            this.planeGeo.vertices[i].z = value*2.0;\n        }\n        this.planeGeo.verticesNeedUpdate = true;\n\n    }\n\n\n}\n\n\n"]}