{"version":3,"file":"WireBox.js","sourceRoot":"","sources":["WireBox.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference path=\"typings/index.d.ts\" />\nimport Uint16Attribute = THREE.Uint16Attribute;\nclass WierBox\n{\n    public geometry: THREE.BufferGeometry;\n    public triangleGeomery:THREE.BufferGeometry;\n    public material: THREE.LineBasicMaterial;\n    public mesh: THREE.LineSegments;\n    public positions:any;\n    public indices:any;\n    public scene:any;\n    private width:number = 100;\n    private height:number = 100;\n    private depth:number = 100;\n    private color:any;\n    private isCreateFace:Boolean;\n    public rotation:any;\n\n    private alpah:Number = 0.5;\n    public position:THREE.Vector3 = new THREE.Vector3(0,0,0);\n    private triangleVertices:any;\n\n    public Obj:THREE.Group = new THREE.Group();\n\n\n    constructor(scene,width,depth,height,position,color,isCreateFace)\n    {\n        this.width = width;\n        this.height = height;\n        this.depth = depth;\n        this.scene = scene;\n        this.position = this.Obj.position;\n        this.position.set(position.x,position.y,position.z);\n        this.color = color;\n        this.isCreateFace = isCreateFace;\n        this.rotation = this.Obj.rotation;\n\n        this.init();\n    }\n\n    private init()\n    {\n\n\n\n\n        this.geometry = new THREE.BufferGeometry();\n\n        this.material = new THREE.LineBasicMaterial({\n            // vertexColors: THREE.VertexColors,\n            color:this.color,\n            side: THREE.DoubleSide\n        });\n        var vertices = new Float32Array( 24 );\n        var colors = [];\n        var indices_array = [];\n\n        for(var i = 0; i < 8; i++)\n        {\n            // colors.push(Math.random()*0.5+0.5, Math.random()*0.5+0.5, 1);\n            colors.push(this.color.r,this.color.g,this.color.b,1.0);\n        }\n\n        vertices[0]=-this.width / 2;\n        vertices[1]=-this.height / 2;\n        vertices[2]=this.depth / 2;\n        vertices[3]=this.width / 2;\n        vertices[4]= -this.height / 2;\n        vertices[5]=this.depth / 2;\n        vertices[6] = this.width / 2;\n        vertices[7] = -this.height / 2;\n        vertices[8] = -this.depth / 2;\n        vertices[9] = -this.width / 2;\n        vertices[10] = -this.height / 2;\n        vertices[11] = -this.depth / 2;\n        vertices[12] = -this.width / 2;\n        vertices[13] = this.height / 2;\n        vertices[14] = this.depth / 2;\n        vertices[15] = this.width / 2;\n        vertices[16] = this.height / 2;\n        vertices[17] = this.depth / 2;\n        vertices[18] = this.width / 2;\n        vertices[19] = this.height / 2;\n        vertices[20] = -this.depth / 2;\n        vertices[21] = -this.width / 2;\n        vertices[22] = this.height / 2;\n        vertices[23] = -this.depth / 2;\n\n\n\n        indices_array.push(0);\n        indices_array.push(1);\n        indices_array.push(2);\n        indices_array.push(3);\n        indices_array.push(0);\n        indices_array.push(3);\n        indices_array.push(1);\n        indices_array.push(2);\n\n        indices_array.push(4);\n        indices_array.push(5);\n        indices_array.push(6);\n        indices_array.push(7);\n        indices_array.push(4);\n        indices_array.push(7);\n        indices_array.push(5);\n        indices_array.push(6);\n\n        indices_array.push(0);\n        indices_array.push(4);\n        indices_array.push(1);\n        indices_array.push(5);\n        indices_array.push(2);\n        indices_array.push(6);\n        indices_array.push(3);\n        indices_array.push(7);\n\n        this.geometry.setIndex( new THREE.BufferAttribute( new Uint16Array( indices_array ), 1 ) );\n        this.geometry.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array(vertices ), 3 ) );\n        this.geometry.addAttribute( 'color', new THREE.BufferAttribute( new Float32Array( colors ), 3 ) );\n        this.geometry.computeBoundingSphere();\n        this.mesh = new THREE.LineSegments( this.geometry, this.material );\n        // this.mesh.position.set(this.position.x,this.position.y,this.position.z);\n        this.Obj.add(this.mesh);\n\n        this.positions = this.geometry.attributes.position;\n        console.log(this.geometry);\n\n\n        this.triangleGeomery = new THREE.BufferGeometry();\n        var triangleindices = new Uint16Array([\n            0, 1, 3,\n            1, 3, 2,\n            0+4, 1+4, 3+4,\n            1+4, 3+4, 2+4,\n            0,1,4,\n            1,4,5,\n            2,6,7,\n            2,3,7,\n            0,3,4,\n            4,7,3\n        ]);\n\n        for(var i= 0; i < 3; i++)\n        {\n\n        }\n\n        this.triangleGeomery.addAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n        // this.triangleGeomery.setIndex( new THREE.BufferAttribute( triangle_indices_array, 1 ) );\n        this.triangleGeomery.addAttribute('index',    new THREE.BufferAttribute(triangleindices,  1));\n        // this.triangleGeomery.addAttribute( 'color', new THREE.BufferAttribute( colors, 4, true ) );\n        // material\n        var material = new THREE.MeshBasicMaterial( {\n            side: THREE.DoubleSide,\n            transparent: true,\n            opacity:this.alpah,\n            color:0xffffff\n        } );\n        var triagnleMesh = new THREE.Mesh( this.triangleGeomery, material );\n\n        this.Obj.add( triagnleMesh );\n        this.triangleVertices = this.triangleGeomery.attributes.position;\n\n        this.Obj.position.set(this.position.x,this.position.y,this.position.z);\n        this.scene.add(this.Obj);\n\n\n    }\n    public updateVertex()\n    {\n\n\n    }\n\n    public setPosition(position)\n    {\n        this.Obj.position.set(position.x,position.y,position.z);\n    }\n\n    public updateHeadVertex(y)\n    {\n        console.log(this.mesh);\n\n\n        this.positions.array[13] = y;\n        this.positions.array[16] = y;\n        this.positions.array[19] = y;\n        this.positions.array[22] = y;\n\n        this.triangleVertices.array[13] = y;\n        this.triangleVertices.array[16] = y;\n        this.triangleVertices.array[19] = y;\n        this.triangleVertices.array[22] = y;\n\n        this.triangleVertices.needsUpdate = true;\n        this.positions.needsUpdate = true;\n    }\n\n\n    public update()\n    {\n\n        var p = this.Obj.position;\n        p.z--;\n\n        // this.Obj.rotateX(0.1)\n        // this.Obj.position.set(\n\n    }\n\n\n}"]}