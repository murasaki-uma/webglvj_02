{"version":3,"file":"model_test.js","sourceRoot":"","sources":["model_test.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference path=\"typings/index.d.ts\" />\n\n// *********** ひとつめのシーン *********** //\nclass ModelTest{\n\n    public scene: THREE.Scene;\n    public camera: THREE.Camera;\n    private timer:number = 0;\n    private renderer:THREE.WebGLRenderer;\n    private groups:THREE.Group[] = [];\n    private simplex:Object;\n    private time:number =0;\n    private rad:number = 250;\n\n    private model:THREE.Mesh;\n\n\n\n\n    constructor(renderer:THREE.WebGLRenderer) {\n\n\n        this.renderer = renderer;\n        this.createScene();\n\n\n    }\n\n    // シーンを作る。ここでオブジェクトを格納していく。\n    private createScene(){\n\n        // シーンを作る\n        this.scene = new THREE.Scene();\n\n        // カメラを作成\n        this.camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 10000 );\n        this.camera.position.z = 450;\n        this.camera.position.y = -30;\n        // this.camera\n\n        let ambLight = new THREE.AmbientLight(0xffffff, 0.5);\n        this.scene.add(ambLight);\n\n\n        let dLight = new THREE.DirectionalLight(0xffffff, 0.8);\n        dLight.position.set(0,100,0);\n        this.scene.add(dLight);\n\n\n        let dLight02 = new THREE.DirectionalLight(0xffffff, 0.4);\n        dLight02.position.set(0,0,100);\n        this.scene.add(dLight02);\n\n\n\n        var onProgress = function ( xhr ) {\n            if ( xhr.lengthComputable ) {\n                var percentComplete = xhr.loaded / xhr.total * 100;\n                console.log( Math.round(percentComplete, 2) + '% downloaded' );\n            }\n        };\n\n        var gridHelper = new THREE.GridHelper( 400, 40, 0x0000ff, 0x808080 );\n        // gridHelper.position.y = - 150;\n        // gridHelper.position.x = - 150;\n        // this.scene.add( gridHelper );\n\n        // var material = new THREE.Material({\n        //     shading:THREE.FlatShading\n        // })\n        var onError = function ( xhr ) { };\n        THREE.Loader.Handlers.add( /\\.dds$/i, new THREE.DDSLoader() );\n        var mtlLoader = new THREE.MTLLoader();\n        mtlLoader.setPath( 'obj/' );\n        var _scene = this.scene;\n        mtlLoader.load ( 'female_head.mtl', function ( materials ) {\n            materials.preload();\n            var objLoader = new THREE.OBJLoader();\n            objLoader.setMaterials( materials );\n            objLoader.setPath( 'obj/' );\n            objLoader.load( 'female_head.obj', function ( object:THREE.Mesh ) {\n                object.position.y = - 95;\n                console.log(object.children[0]);\n                object.position.y = 30;\n                object.children[0].material.shading = THREE.FlatShading;\n                // for(let i = 0; i < object.children[0].material.materials.length; i++)\n                // {\n                //     object.children[0].material.materials[i].wireframe = true;\n                // }\n\n                // object.children[0].drawMode = 3;\n                // object.material.wireframe = true;\n                // object.children[0].\n                _scene.add( object);\n                this.model = object;\n            }, onProgress, onError );\n        });\n\n\n\n\n\n\n\n\n\n\n\n        // let controls = new THREE.OrbitControls( this.camera, this.renderer.domElement );\n    //\n\n    }\n\n    public click()\n    {\n\n    }\n\n    private nextRad:number = 250;\n    public keyDown(e:KeyboardEvent)\n    {\n\n        if(e.key == \"z\")\n        {\n\n            if(this.nextRad == 500)\n            {\n                this.nextRad = 250;\n            } else {\n                this.nextRad = 500\n            }\n        }\n\n    }\n\n\n    private nextTime = 0.0;\n    // ワンフレームごとの処理\n    public update() {\n\n        if(Math.random() < 0.02 && (this.nextTime - this.time) < 0.01)\n        {\n            this.nextTime += Math.random()*Math.PI/3 + Math.PI/3;\n        }\n\n\n\n\n        this.rad += ( this.nextRad - this.rad) * 0.04;\n        // this.time += 0.01;\n        this.time += (this.nextTime - this.time) * 0.02;\n        this.time += 0.02;\n        this.camera.position.x = Math.sin(this.time) * this.rad;\n\n        this.camera.position.y = Math.sin(this.time*0.3) * this.rad*0.5;\n\n        // this.camera.position.x = Math.sin(this.time) * this.rad;\n\n        // let model = this.scene.children[0]\n        // model.rotateY( this.time );\n        this.camera.position.z = Math.cos(this.time) * this.rad;\n\n        this.camera.lookAt(new THREE.Vector3(0,0,0));\n    }\n\n\n}\n\n\n"]}